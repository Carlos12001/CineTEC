
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Seating Chart</title>
    <style>
        .seating-container {
            text-align: center;
        }
        
        .seat {
            width: 50px;
            height: 50px;
            background-color: lightgray;
            border: 1px solid gray;
            display: flex;
            justify-content: center;
            align-items: center;
            cursor: pointer;
            font-size: 18px;
            font-weight: bold;
            margin: 5px;
        }
        
        .seat.selected {
            background-color: green;
            color: white;
        }
    </style>
</head>
<body>
  <div class="seating-container">
      <h2>Seleccione sus asientos</h2>
      <div class="seat" id="A1" onclick="toggleSeatSelection('A1')">A1</div>
      <div class="seat" id="A2" onclick="toggleSeatSelection('A2')">A2</div>
      <div class="seat" id="A3" onclick="toggleSeatSelection('A3')">A3</div>
      <div class="seat" id="B1" onclick="toggleSeatSelection('B1')">B1</div>
      <div class="seat" id="B2" onclick="toggleSeatSelection('B2')">B2</div>
      <div class="seat" id="B3" onclick="toggleSeatSelection('B3')">B3</div>
      
      
      <button id="purchase-button" onclick="purchaseSelectedSeats()">Comprar Asientos</button>
      
      <button id="generate-xml-button" onclick="generateXMLInvoice()">Generar Factura XML</button>
  </div>

  <script>
      // Almacena los asientos seleccionados
      let selectedSeats = [];

      // Función para alternar la selección de asientos
      function toggleSeatSelection(seatId) {
          const seat = document.getElementById(seatId);
          seat.classList.toggle('selected');

          // Actualiza el array de asientos seleccionados
          if (selectedSeats.includes(seatId)) {
              selectedSeats = selectedSeats.filter(id => id !== seatId);
          } else {
              selectedSeats.push(seatId);
          }
      }

      // Función para reservar los asientos seleccionados
      function bookSelectedSeats() {
          alert('Asientos reservados: ' + selectedSeats.join(', '));
      }

      // Función para comprar los asientos seleccionados y generar una factura
      function purchaseSelectedSeats() {
          if (selectedSeats.length === 0) {
              alert('Por favor, seleccione al menos un asiento antes de comprar.');
          } else {
              const totalPrice = selectedSeats.length * 10; // Precio por asiento (cambiar según tus necesidades)
              const invoice = `Factura de Compra:\nAsientos: ${selectedSeats.join(', ')}\nTotal a pagar: $${totalPrice}`;
              alert(invoice);
          }
      }

      // Función para generar una factura XML y permitir la descarga
      function generateXMLInvoice() {
          if (selectedSeats.length === 0) {
              alert('Por favor, seleccione al menos un asiento antes de generar la factura XML.');
          } else {
              // Crear un objeto XML
              const xmlDoc = document.implementation.createDocument(null, 'invoice');

              // Crear elementos XML para los datos de la factura
              const seatsElement = xmlDoc.createElement('seats');
              seatsElement.textContent = selectedSeats.join(', ');

              const totalElement = xmlDoc.createElement('total');
              const totalPrice = selectedSeats.length * 10; // Precio por asiento (cambiar según tus necesidades)
              totalElement.textContent = totalPrice;

              // Adjuntar elementos al objeto XML
              xmlDoc.documentElement.appendChild(seatsElement);
              xmlDoc.documentElement.appendChild(totalElement);

              // Convertir el objeto XML en una cadena de texto
              const xmlString = new XMLSerializer().serializeToString(xmlDoc);

              // Crear un enlace de descarga
              const downloadLink = document.createElement('a');
              downloadLink.href = 'data:text/xml;charset=utf-8,' + encodeURIComponent(xmlString);
              downloadLink.download = 'factura.xml';

              // Simular un clic en el enlace para iniciar la descarga
              downloadLink.click();
          }
      }
  </script>
</body>



